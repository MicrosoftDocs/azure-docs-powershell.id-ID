### YamlMime:Tutorial
title: Membuat mesin virtual dengan Azure PowerShell
metadata:
  title: Membuat mesin virtual dengan Azure PowerShell
  description: Mulai menggunakan Azure PowerShell dengan membuat mesin virtual.
  audience: Developer
  level: Beginner
  displayType: two-column
  interactive: azurepowershell
  ms.date: 02/08/2018
  ms.author: sewhee
  author: sdwheeler
  manager: carmonm
  ms.devlang: azure-powershell
  ms.prod: powershell
  ms.technology: azure-powershell
  ms.service: virtual-machines
  clicktale: true
  ms.openlocfilehash: b71557b2280d0fbfded2f626a54480a0606e126d
  ms.sourcegitcommit: 6dce6f7972b2236b87b25b31465bffaad2435711
  ms.translationtype: MT
  ms.contentlocale: id-ID
  ms.lasthandoff: 09/13/2021
  ms.locfileid: "132427394"
items:
- durationInMinutes: 1
  content: "\n[!INCLUDE [migrate-to-az-banner](../../includes/migrate-to-az-banner.md)]\n\nDalam tutorial ini, Anda mempelajari semua langkah-langkah yang dilibatkan dalam menyiapkan mesin virtual dengan Azure PowerShell. Tutorial ini juga membahas kueri output, penggunaan kembali sumber daya Azure, dan pembersihan sumber daya.\n\nTutorial ini dapat dilengkapi dengan pengalaman interaktif yang ditawarkan melalui Azure Cloud Shell, atau Anda dapat menginstal [Azure PowerShell](install-azurerm-ps.md) lokal.\n\nGunakan __ctrl-shift-v__ (__cmd-shift-v__ di macOS) untuk menempelkan teks tutorial ke Azure Cloud Shell."
- durationInMinutes: 1
  title: Tandatangan
  content: >-
    Jika menggunakan instalan lokal Azure PowerShell, Anda harus masuk sebelum melakukan langkah-langkah lainnya.


    ```powershell-interactive

    Connect-AzureRmAccount

    ```


    Selesaikan proses masuk dengan mengikuti langkah-langkah yang ditampilkan di terminal Anda.
- durationInMinutes: 1
  title: Membuat grup sumber daya
  content: >-
    Di Azure, semua sumber daya dialokasikan dalam grup manajemen sumber daya. Grup sumber daya menyediakan kelompok sumber daya yang logis yang membuatnya lebih mudah untuk bekerja dengan sebagai kumpulan.

    Untuk tutorial ini, semua sumber daya yang dibuat masuk ke dalam satu grup bernama `TutorialResources` .


    ```powershell-interactive

    New-AzureRmResourceGroup -Name TutorialResources -Location eastus

    ```


    ```Output

    ResourceGroupName : TutorialResources

    Location          : eastus

    ProvisioningState : Succeeded

    Tags              :

    ResourceId        : /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/TutorialResources

    ```
- durationInMinutes: 1
  title: Membuat kredensial admin untuk VM
  content: >-
    Sebelum dapat membuat mesin virtual baru, Anda harus membuat objek kredensial yang berisi nama pengguna dan kata sandi untuk akun administrator grup Windows VM.


    ```powershell-interactive

    $cred = Get-Credential -Message "Enter a username and password for the virtual machine."

    ```


    Masukkan nama pengguna dan kata sandi ketika diminta. Objek kredensial yang dihasilkan akan diteruskan sebagai parameter dalam langkah berikutnya.


    ```Output

    Windows PowerShell credential request.

    Enter a username and password for the virtual machine.

    User: tutorAdmin

    Password for user tutorAdmin: *********

    ```
- durationInMinutes: 4
  title: Membuat mesin virtual
  content: >-
    Mesin virtual di Azure memiliki dependensi dalam jumlah besar. Sumber Azure PowerShell sumber daya ini untuk Anda berdasarkan argumen baris perintah yang ditentukan. Untuk keterbacaan, [kami menggunakanplatting PowerShell](/powershell/module/microsoft.powershell.core/about/about_splatting) untuk memberikan parameter ke cmdlet Azure PowerShell cmdlet.


    Buat mesin virtual baru yang menjalankan Windows.


    ```powershell-interactive

    $vmParams = @{
      ResourceGroupName = 'TutorialResources'
      Name = 'TutorialVM1'
      Location = 'eastus'
      ImageName = 'Win2016Datacenter'
      PublicIpAddressName = 'tutorialPublicIp'
      Credential = $cred
      OpenPorts = 3389
    }

    $newVM1 = New-AzureRmVM @vmParams

    ```

    Saat VM dibuat, Anda akan melihat nilai parameter yang digunakan dan sumber daya Azure yang dibuat.

    PowerShell akan menggantikan bilah kemajuan seperti yang diperlihatkan di bawah ini.


    ```Output
     Creating Azure resources
      39% \
      [ooooooooooooooooooooooooooooooooooo                                                                 ]

      Creating TutorialVM1 virtual machine.
    ```


    Setelah VM siap, kami dapat menampilkan hasilnya di Azure Portal atau dengan memeriksa variabel \$ newVM1.


    ```powershell-interactive

    $newVM1

    ```


    ```Output

    ResourceGroupName : TutorialResources

    Id                : /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/TutorialResources/providers/Microsoft.Compute/virtualMachines/TutorialVM1

    VmId              : 12345678-9abc-def0-1234-56789abcedf0

    Name              : TutorialVM1

    Type              : Microsoft.Compute/virtualMachines

    Location          : eastus

    Tags              : {}

    HardwareProfile   : {VmSize}

    NetworkProfile    : {NetworkInterfaces}

    OSProfile         : {ComputerName, AdminUsername, WindowsConfiguration, Secrets}

    ProvisioningState : Succeeded

    StorageProfile    : {ImageReference, OsDisk, DataDisks}

    ```


    Nilai properti yang tercantum dalam kurung kurawal adalah objek bertumpuk. Pada langkah berikutnya, kami akan memperlihatkan cara menampilkan nilai tertentu dalam objek bertumpuk ini.
- durationInMinutes: 5
  title: Mendapatkan informasi VM dengan kueri
  content: >-
    Mari kita dapatkan informasi yang lebih mendetail dari VM yang baru saja kami buat. Dalam contoh ini, kami memverifikasi Nama VM dan akun admin yang kami buat.


    ```powershell-interactive

    $newVM1.OSProfile | Select-Object ComputerName,AdminUserName

    ```


    ```Output

    ComputerName AdminUsername

    ------------ -------------

    TutorialVM1  tutorialAdmin

    ```


    Kami bisa menggunakan perintah Azure PowerShell lain untuk mendapatkan informasi tertentu tentang konfigurasi jaringan.


    ```powershell-interactive

    $newVM1 | Get-AzureRmNetworkInterface |
      Select-Object -ExpandProperty IpConfigurations |
        Select-Object Name,PrivateIpAddress
    ```


    Dalam contoh ini, kami menggunakan pipeline PowerShell untuk mengirimkan objek \$ newVM1 ke `Get-AzureRmNetworkInterface` cmdlet. Dari objek antarmuka jaringan yang dihasilkan, kami memilih objek IpConfigurations bertumpuk. Dari objek IpConfigurations, kami memilih properti Name dan PrivateIpAddress.


    ```Output

    Name        PrivateIpAddress

    ----        ----------------

    TutorialVM1 192.168.1.4

    ```


    Untuk mengonfirmasi bahwa VM sedang berjalan, kami perlu menyambungkan melalui Desktop Jarak Jauh. Untuk itu, kami perlu mengetahui alamat IP Publik.


    ```powershell-interactive

    $publicIp = Get-AzureRmPublicIpAddress -Name tutorialPublicIp -ResourceGroupName TutorialResources


    $publicIp | Select-Object Name,IpAddress,@{label='FQDN';expression={$_.DnsSettings.Fqdn}}

    ```


    Dalam contoh ini, kami `Get-AzureRmPublicIpAddress` menggunakan dan menyimpan hasilnya dalam variabel \$ publicIp. Dari variabel ini, kami memilih properti dan menggunakan ekspresi untuk mengambil properti Fqdn bertumpuk.


    ```Output

    Name             IpAddress           FQDN

    ----             ---------           ----

    tutorialPublicIp <PUBLIC_IP_ADDRESS> tutorialvm1-8a0999.eastus.cloudapp.azure.com

    ```


    Dari komputer lokal, Anda dapat menjalankan perintah berikut untuk menyambungkan ke VM melalui Desktop Jarak Jauh.


    ```powershell-interactive

    mstsc.exe /v <PUBLIC_IP_ADDRESS>

    ```


    Untuk informasi selengkapnya tentang membuat kueri untuk properti objek, lihat [Kueri untuk sumber daya Azure.](./queries-azureps.md)
- durationInMinutes: 4
  title: Membuat VM baru pada subnet yang sudah ada
  content: >-
    VM kedua menggunakan subnet yang sudah ada.


    ```powershell-interactive

    $vm2Params = @{
      ResourceGroupName = 'TutorialResources'
      Name = 'TutorialVM2'
      ImageName = 'Win2016Datacenter'
      VirtualNetworkName = 'TutorialVM1'
      SubnetName = 'TutorialVM1'
      PublicIpAddressName = 'tutorialPublicIp2'
      Credential = $cred
      OpenPorts = 3389
    }

    $newVM2 = New-AzureRmVM @vm2Params


    $newVM2

    ```


    ```Output

    ResourceGroupName        : TutorialResources

    Id                       : /subscriptions/XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX/resourceGroups/TutorialResources/providers/Microsoft.Compute/virtualMachines/TutorialVM2

    VmId                     : 12345678-9abc-def0-1234-56789abcedf1

    Name                     : TutorialVM2

    Type                     : Microsoft.Compute/virtualMachines

    Location                 : eastus

    Tags                     : {}

    HardwareProfile          : {VmSize}

    NetworkProfile           : {NetworkInterfaces}

    OSProfile                : {ComputerName, AdminUsername, WindowsConfiguration, Secrets}

    ProvisioningState        : Succeeded

    StorageProfile           : {ImageReference, OsDisk, DataDisks}

    FullyQualifiedDomainName : tutorialvm2-dfa5af.eastus.cloudapp.azure.com

    ```


    Anda dapat melewati beberapa langkah untuk mendapatkan alamat IP publik VM baru karena dikembalikan dalam properti FullyQualifiedDomainName objek \$ newVM2. Gunakan perintah berikut untuk menyambungkan menggunakan Desktop Jarak Jauh.


    ```powershell-interactive

    mstsc.exe /v $newVM2.FullyQualifiedDomainName

    ```
- durationInMinutes: 4
  title: Pembersihan
  content: >-
    Sekarang karena tutorial sudah selesai, ini saatnya membersihkan sumber daya yang dibuat. Anda bisa menghapus sumber daya individual dengan perintah tersebut, tapi cara paling aman untuk menghapus semua sumber daya di grup sumber daya `Remove-AzureRmResource` adalah menghapus grup menggunakan perintah `Remove-AzureRmResourceGroup` tersebut.


    ```powershell-interactive

    $job = Remove-AzureRmResourceGroup -Name TutorialResources -Force -AsJob


    $job

    ```


    ```Output

    Id     Name            PSJobTypeName   State         HasMoreData     Location             Command

    --     ----            -------------   -----         -----------     --------             -------

    1      Long Running... AzureLongRun... Running       True            localhost            Remove-AzureRmResource...

    ```


    Perintah ini menghapus sumber daya yang dibuat selama tutorial, dan dijamin untuk menggunakannya dalam urutan yang benar. Parameter `-AsJob` ini mencegah PowerShell memblokir saat penghapusan terjadi. Untuk menunggu hingga penghapusan selesai, gunakan perintah berikut:


    ```powershell-interactive

    Wait-Job -Id $job.Id

    ```


    Setelah pembersihan selesai, tutorial telah selesai. Lanjutkan untuk ringkasan semua yang telah Anda pelajari dan link ke sumber daya yang akan membantu Anda dengan langkah berikutnya.
- durationInMinutes: 1
  title: Ringkasan
  content: "\nSelamat! Anda telah mempelajari cara membuat VM dengan sumber daya baru atau yang sudah ada, menggunakan ekspresi dan perintah Azure PowerShell lainnya untuk merekam data untuk disimpan dalam variabel shell, dan melihat beberapa sumber daya yang dibuat untuk VM Azure.\n\nDari mana Anda pergi dari sini bergantung pada bagaimana Anda berencana untuk menggunakan Azure PowerShell. Ada berbagai materi yang lebih mendalam tentang fitur yang dibahas dalam tutorial ini.\n\n### <a name=\"in-depth-azure-powershell-documentation\"></a>Dokumentasi Azure PowerShell mendalam\n\nAnda mungkin menginginkan waktu untuk menelusuri kumpulan dokumentasi [Azure PowerShell](overview.md) lengkap.\n\nUntuk informasi selengkapnya tentang perintah yang digunakan dalam tutorial ini, lihat artikel berikut ini.\n\n- [New-AzureRmResourceGroup](/powershell/module/azurerm.resources/new-azurermresourcegroup)\n- [Get-Credential](/powershell/module/microsoft.powershell.security/get-credential)\n- [New-AzureRmVM](/powershell/module/azurerm.compute/new-azurermvm)\n- [Select-Object](/powershell/module/microsoft.powershell.utility/select-object)\n- [Get-AzureRmPublicIpAddress](/powershell/module/azurerm.network/get-AzureRmPublicIpAddress)\n- [Remove-AzureRmResourceGroup](/powershell/module/azurerm.resources/Remove-AzureRmResourceGroup)\n- [Wait-Job](/powershell/module/microsoft.powershell.core/wait-job)\n\nAda juga artikel yang mempelajari fitur yang diperlihatkan dalam tutorial.\n\n- [PowerShell splatting](/powershell/module/microsoft.powershell.core/about/about_splatting)\n- [Kueri](queries-azureps.md)\n- [Pemformatan](formatting-output.md)\n- [Menggunakan pekerjaan PowerShell](using-psjobs.md)\n\n### <a name=\"sample-scripts\"></a>Sampel skrip\n\nJika Anda ingin langsung memulai dengan tugas tertentu, lihat beberapa sampel skrip.\n\n- [Mesin Virtual Linux](/azure/virtual-machines/linux/powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [Windows Virtual](/azure/virtual-machines/windows/powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [Aplikasi Web](/azure/app-service-web/app-service-powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [SQL Database](/azure/sql-database/sql-database-powershell-samples?toc=%2fpowershell%2fmodule%2ftoc.json)\n- [Cosmos DB](/azure/cosmos-db/powershell-samples?toc=%2fpowershell%2fmodules%2ftoc.json)\n\n### <a name=\"feedback\"></a>Umpan Balik\n\nJika Anda ingin memberikan umpan balik, saran, atau mengajukan pertanyaan, ada beberapa cara bagi Anda untuk menghubungi.\n\n* `Send-Feedback`adalah perintah bawaan untuk Azure PowerShell yang memungkinkan Anda memberikan umpan balik formulir gratis kepada tim.\n* Mengajukan permintaan fitur atau laporan bug dalam [Azure PowerShell penyimpanan](https://github.com/Azure/azure-powershell/issues).\n* Ajukan pertanyaan atau dapatkan klarifikasi dengan mengo terlebih dahulu [Azure PowerShell dokumentasi dokumen .](https://github.com/MicrosoftDocs/azure-docs-powershell/issues)\n\nKami harap Anda menikmati pengalaman menggunakan Azure PowerShell!"
